# 실적보고서 작성 UI 구현 가이드

**프로젝트**: KUWOTECH 영업관리시스템
**작성일**: 2025-10-07
**대상 화면**: 영업담당 - 실적보고서 작성
**목적**: 실적보고서 작성 화면의 구체적인 구현 방법 가이드

---

## 📋 목차

1. [화면 레이아웃 구조](#1-화면-레이아웃-구조)
2. [HTML 구조 설계](#2-html-구조-설계)
3. [CSS 스타일링 가이드](#3-css-스타일링-가이드)
4. [JavaScript 인터랙션](#4-javascript-인터랙션)
5. [컴포넌트별 구현](#5-컴포넌트별-구현)
6. [반응형 디자인](#6-반응형-디자인)
7. [접근성 고려사항](#7-접근성-고려사항)

---

## 1. 화면 레이아웃 구조

### 1-1. 전체 레이아웃 구성도

```
┌─────────────────────────────────────────────────────────────┐
│ Header (고정)                                                │
│ - 타이틀: 실적보고서 작성                                    │
│ - 우측: 최소화, 닫기 버튼                                    │
├─────────────────────────────────────────────────────────────┤
│ Goal Display Area (동적)                                     │
│ - 월간/연간 실적 진행률 표시                                 │
│ - 거래처 선택 시 동적 변경                                   │
├─────────────────────────────────────────────────────────────┤
│ Form Header (고정)                                           │
│ - 작성일 (자동)                                              │
│ - 보고서 유형 (주간보고서 고정)                              │
│ - 거래처 선택 드롭다운 + 검색                                │
├─────────────────────────────────────────────────────────────┤
│ Form Body (스크롤 가능)                                      │
│ ┌───────────────────────────────────────────────────────┐   │
│ │ Section 1: 목표수금금액 (접기/펼치기)                 │   │
│ └───────────────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────────────┐   │
│ │ Section 2: 목표매출액 (접기/펼치기)                   │   │
│ └───────────────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────────────┐   │
│ │ Section 3: 영업활동(특이사항) (접기/펼치기)           │   │
│ └───────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│ Footer (고정)                                                │
│ - 전체 재작성, 취소, 저장 버튼                               │
└─────────────────────────────────────────────────────────────┘
```

### 1-2. 화면 영역 비율

```
┌─────────────────┐
│ Header: 60px    │ (고정)
├─────────────────┤
│ Goal: 180px     │ (고정, 반투명 카드)
├─────────────────┤
│ Form Header:    │ (고정)
│ 100px           │
├─────────────────┤
│                 │
│ Form Body:      │ (스크롤 가능)
│ calc(100vh -    │
│ 400px)          │
│                 │
├─────────────────┤
│ Footer: 60px    │ (고정)
└─────────────────┘
```

---

## 2. HTML 구조 설계

### 2-1. 전체 컨테이너 구조

```html
<!-- 메인 컨테이너 -->
<div id="report-create-modal" class="modal-container">
  <!-- 오버레이 -->
  <div class="modal-overlay"></div>

  <!-- 모달 컨텐츠 -->
  <div class="modal-content glass-card">
    <!-- 헤더 -->
    <header class="modal-header">
      <h2>📝 실적보고서 작성</h2>
      <div class="header-actions">
        <button class="btn-icon btn-minimize" aria-label="최소화">─</button>
        <button class="btn-icon btn-close" aria-label="닫기">✕</button>
      </div>
    </header>

    <!-- 목표 표시 영역 -->
    <section class="goal-display-area glass-card">
      <!-- 동적으로 렌더링 -->
    </section>

    <!-- 폼 헤더 -->
    <section class="form-header">
      <div class="form-info">
        <div class="info-item">
          <label>📅 작성일:</label>
          <span id="report-date">2025-10-07</span>
          <small>(자동)</small>
        </div>
        <div class="info-item">
          <label>보고서 유형:</label>
          <span>주간보고서</span>
          <small>(고정)</small>
        </div>
      </div>
      <div class="company-selector">
        <label for="company-select">거래처:</label>
        <div class="select-wrapper">
          <select id="company-select" class="glass-input">
            <option value="">거래처를 선택하세요</option>
            <!-- 동적으로 옵션 생성 -->
          </select>
          <button class="btn-search" aria-label="검색">🔍</button>
        </div>
        <p class="warning-text">⚠️ 거래처 선택 시 위의 목표 표시가 변경됩니다!</p>
      </div>
    </section>

    <!-- 폼 본문 (스크롤 영역) -->
    <div class="form-body scrollable">
      <!-- Section 1: 목표수금금액 -->
      <div class="form-section" data-section="collection">
        <div class="section-header">
          <label class="checkbox-container">
            <input type="checkbox" id="enable-collection" />
            <span class="checkmark"></span>
            <span class="section-title">💰 목표수금금액</span>
          </label>
          <button class="btn-toggle" aria-label="펼치기/접기">▼</button>
        </div>
        <div class="section-content" style="display: none;">
          <!-- 목표수금금액 입력 폼 -->
        </div>
      </div>

      <!-- Section 2: 목표매출액 -->
      <div class="form-section" data-section="sales">
        <div class="section-header">
          <label class="checkbox-container">
            <input type="checkbox" id="enable-sales" />
            <span class="checkmark"></span>
            <span class="section-title">📊 목표매출액</span>
          </label>
          <button class="btn-toggle" aria-label="펼치기/접기">▼</button>
        </div>
        <div class="section-content" style="display: none;">
          <!-- 목표매출액 입력 폼 -->
        </div>
      </div>

      <!-- Section 3: 영업활동 -->
      <div class="form-section" data-section="activity">
        <div class="section-header">
          <label class="checkbox-container">
            <input type="checkbox" id="enable-activity" />
            <span class="checkmark"></span>
            <span class="section-title">📝 영업활동(특이사항)</span>
          </label>
          <button class="btn-toggle" aria-label="펼치기/접기">▼</button>
        </div>
        <div class="section-content" style="display: none;">
          <!-- 영업활동 입력 폼 -->
        </div>
      </div>
    </div>

    <!-- 푸터 -->
    <footer class="modal-footer">
      <button class="btn btn-secondary" id="btn-reset">전체 재작성</button>
      <button class="btn btn-secondary" id="btn-cancel">취소</button>
      <button class="btn btn-primary" id="btn-save">저장</button>
    </footer>
  </div>
</div>
```

### 2-2. 목표 표시 영역 HTML

```html
<section class="goal-display-area glass-card" id="goal-display">
  <div class="goal-header">
    <h3>📊 <span id="goal-title">내 전체 실적 (김영업)</span></h3>
    <span class="goal-period">2025년 10월</span>
  </div>

  <div class="goal-metrics">
    <!-- 월간 수금 -->
    <div class="metric-row">
      <div class="metric-label">💰 월간 수금:</div>
      <div class="metric-values">
        <span>목표 <strong id="monthly-collection-target">20,000,000</strong>원</span>
        <span class="separator">|</span>
        <span>실적 <strong id="monthly-collection-actual">18,500,000</strong>원</span>
      </div>
      <div class="metric-progress">
        <span class="progress-rate">달성률 <strong id="monthly-collection-rate">92.5</strong>%</span>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 92.5%"></div>
        </div>
      </div>
    </div>

    <!-- 월간 매출 -->
    <div class="metric-row">
      <div class="metric-label">📊 월간 매출:</div>
      <div class="metric-values">
        <span>목표 <strong id="monthly-sales-target">40,000,000</strong>원</span>
        <span class="separator">|</span>
        <span>실적 <strong id="monthly-sales-actual">38,000,000</strong>원</span>
      </div>
      <div class="metric-progress">
        <span class="progress-rate">달성률 <strong id="monthly-sales-rate">95.0</strong>%</span>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 95%"></div>
        </div>
      </div>
    </div>

    <!-- 연간 수금 -->
    <div class="metric-row">
      <div class="metric-label">💰 연간 수금:</div>
      <div class="metric-values">
        <span>목표 <strong id="annual-collection-target">240,000,000</strong>원</span>
        <span class="separator">|</span>
        <span>실적 <strong id="annual-collection-actual">150,000,000</strong>원</span>
      </div>
      <div class="metric-progress">
        <span class="progress-rate">달성률 <strong id="annual-collection-rate">62.5</strong>%</span>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 62.5%"></div>
        </div>
      </div>
    </div>

    <!-- 연간 매출 -->
    <div class="metric-row">
      <div class="metric-label">📊 연간 매출:</div>
      <div class="metric-values">
        <span>목표 <strong id="annual-sales-target">480,000,000</strong>원</span>
        <span class="separator">|</span>
        <span>실적 <strong id="annual-sales-actual">350,000,000</strong>원</span>
      </div>
      <div class="metric-progress">
        <span class="progress-rate">달성률 <strong id="annual-sales-rate">72.9</strong>%</span>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 72.9%"></div>
        </div>
      </div>
    </div>
  </div>
</section>
```

### 2-3. 섹션별 입력 폼 HTML

#### 목표수금금액 섹션

```html
<div class="section-content" id="collection-content">
  <div class="form-group">
    <label for="target-collection">목표수금금액 (원):</label>
    <input
      type="text"
      id="target-collection"
      class="glass-input money-input"
      placeholder="0"
      inputmode="numeric"
    />
    <small class="help-text">(자동 천단위 콤마)</small>
  </div>
</div>
```

#### 목표매출액 섹션

```html
<div class="section-content" id="sales-content">
  <div id="product-list">
    <!-- 제품 항목들이 동적으로 추가됨 -->
  </div>
  <button class="btn btn-add" id="btn-add-product">
    ➕ 제품 추가
  </button>
</div>

<!-- 제품 항목 템플릿 -->
<template id="product-item-template">
  <div class="product-item glass-card">
    <div class="product-header">
      <span class="product-label">제품 항목 <span class="product-number"></span></span>
      <button class="btn-icon btn-remove-product" aria-label="제품 삭제">🗑️</button>
    </div>
    <div class="form-group">
      <label>판매제품:</label>
      <select class="glass-input product-select" required>
        <option value="">회사 전체 제품 목록에서 선택</option>
        <!-- 동적으로 제품 옵션 생성 -->
      </select>
    </div>
    <div class="form-group">
      <label>목표매출금액 (원):</label>
      <input
        type="text"
        class="glass-input money-input sales-amount"
        placeholder="0"
        inputmode="numeric"
      />
    </div>
    <div class="form-group">
      <label>부가세:</label>
      <select class="glass-input vat-select">
        <option value="include">포함</option>
        <option value="exclude">제외</option>
      </select>
    </div>
  </div>
</template>
```

#### 영업활동 섹션

```html
<div class="section-content" id="activity-content">
  <!-- 활동 유형 선택 -->
  <div class="form-group">
    <label for="activity-type">활동 유형:</label>
    <select id="activity-type" class="glass-input">
      <option value="">선택하세요</option>
      <option value="call">전화통화 예정</option>
      <option value="visit">방문예정</option>
      <option value="document">문서전달</option>
      <option value="other">기타</option>
    </select>
  </div>

  <!-- 활동 유형별 세부 폼 컨테이너 -->
  <div id="activity-details-container">
    <!-- 선택한 활동 유형에 따라 동적으로 폼 표시 -->
  </div>
</div>

<!-- 전화통화 예정 템플릿 -->
<template id="activity-call-template">
  <div class="activity-details glass-card">
    <h4>📞 전화통화 예정</h4>
    <div class="form-row">
      <div class="form-group">
        <label for="call-date">날짜:</label>
        <input type="date" id="call-date" class="glass-input" />
      </div>
      <div class="form-group">
        <label for="call-time">시간:</label>
        <input type="time" id="call-time" class="glass-input" />
      </div>
    </div>
    <div class="form-group">
      <label for="call-target">대상자:</label>
      <input type="text" id="call-target" class="glass-input" />
    </div>
    <div class="form-group">
      <label for="call-purpose">목적:</label>
      <textarea
        id="call-purpose"
        class="glass-input"
        rows="4"
        placeholder="자유 입력, 글자수 제한 없음"
      ></textarea>
    </div>
    <div class="form-group">
      <label>실행자:</label>
      <div class="radio-group">
        <label class="radio-container">
          <input type="radio" name="call-executor" value="self" checked />
          <span class="radio-checkmark"></span>
          <span>본인</span>
        </label>
        <label class="radio-container">
          <input type="radio" name="call-executor" value="proxy" />
          <span class="radio-checkmark"></span>
          <span>대리 실행</span>
        </label>
      </div>
    </div>
    <div class="proxy-info" style="display: none;">
      <div class="form-group">
        <label for="call-proxy-name">대리 실행자 (딜러/대리점명):</label>
        <input type="text" id="call-proxy-name" class="glass-input" />
      </div>
      <div class="form-group">
        <label for="call-proxy-phone">전화번호:</label>
        <input type="tel" id="call-proxy-phone" class="glass-input" />
      </div>
    </div>
  </div>
</template>

<!-- 방문예정 템플릿 -->
<template id="activity-visit-template">
  <div class="activity-details glass-card">
    <h4>🚗 방문예정</h4>
    <div class="form-group">
      <label for="visit-date">날짜:</label>
      <input type="date" id="visit-date" class="glass-input" />
    </div>
    <div class="form-group">
      <label for="visit-location">장소:</label>
      <input type="text" id="visit-location" class="glass-input" />
    </div>
    <div class="form-group">
      <label for="visit-target">대상자(미팅):</label>
      <input type="text" id="visit-target" class="glass-input" />
    </div>
    <div class="form-group">
      <label for="visit-purpose">목적:</label>
      <textarea
        id="visit-purpose"
        class="glass-input"
        rows="4"
        placeholder="자유 입력, 글자수 제한 없음"
      ></textarea>
    </div>
    <div class="form-group">
      <label>실행자:</label>
      <div class="radio-group">
        <label class="radio-container">
          <input type="radio" name="visit-executor" value="self" checked />
          <span class="radio-checkmark"></span>
          <span>본인</span>
        </label>
        <label class="radio-container">
          <input type="radio" name="visit-executor" value="proxy" />
          <span class="radio-checkmark"></span>
          <span>대리 실행</span>
        </label>
      </div>
    </div>
    <div class="proxy-info" style="display: none;">
      <div class="form-group">
        <label for="visit-proxy-name">대리 실행자 (딜러/대리점명):</label>
        <input type="text" id="visit-proxy-name" class="glass-input" />
      </div>
    </div>
  </div>
</template>

<!-- 문서전달 템플릿 -->
<template id="activity-document-template">
  <div class="activity-details glass-card">
    <h4>📄 문서전달</h4>
    <div class="form-group">
      <label for="doc-date">날짜:</label>
      <input type="date" id="doc-date" class="glass-input" />
    </div>
    <div class="form-group">
      <label for="doc-method">전달방법:</label>
      <select id="doc-method" class="glass-input">
        <option value="visit">방문</option>
        <option value="email">이메일</option>
      </select>
    </div>
    <div class="form-group">
      <label for="doc-name">전달문서:</label>
      <input type="text" id="doc-name" class="glass-input" />
    </div>
    <div class="form-group">
      <label for="doc-content">전달문서 내용:</label>
      <textarea
        id="doc-content"
        class="glass-input"
        rows="4"
        placeholder="자유 입력, 글자수 제한 없음"
      ></textarea>
    </div>
    <div class="form-group">
      <label>실행자:</label>
      <div class="radio-group">
        <label class="radio-container">
          <input type="radio" name="doc-executor" value="self" checked />
          <span class="radio-checkmark"></span>
          <span>본인</span>
        </label>
        <label class="radio-container">
          <input type="radio" name="doc-executor" value="proxy" />
          <span class="radio-checkmark"></span>
          <span>대리 실행</span>
        </label>
      </div>
    </div>
    <div class="proxy-info" style="display: none;">
      <div class="form-group">
        <label for="doc-proxy-name">대리 실행자 (딜러/대리점명):</label>
        <input type="text" id="doc-proxy-name" class="glass-input" />
      </div>
    </div>
  </div>
</template>

<!-- 기타 활동 템플릿 -->
<template id="activity-other-template">
  <div class="activity-details glass-card">
    <h4>📝 기타 영업활동</h4>
    <div class="form-group">
      <label for="other-content">활동 내용:</label>
      <textarea
        id="other-content"
        class="glass-input"
        rows="6"
        placeholder="자유 입력, 글자수 제한 없음"
      ></textarea>
    </div>
  </div>
</template>
```

---

## 3. CSS 스타일링 가이드

### 3-1. 글로벌 변수 및 기본 스타일

```css
:root {
  /* 색상 팔레트 */
  --color-primary: #3b82f6;
  --color-primary-dark: #2563eb;
  --color-secondary: #64748b;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;

  /* 배경색 */
  --bg-primary: #f8fafc;
  --bg-secondary: #f1f5f9;
  --bg-glass: rgba(255, 255, 255, 0.7);
  --bg-glass-dark: rgba(255, 255, 255, 0.5);

  /* 텍스트 색상 */
  --text-primary: #1e293b;
  --text-secondary: #64748b;
  --text-light: #94a3b8;

  /* 간격 */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  /* 테두리 */
  --border-radius: 8px;
  --border-radius-lg: 12px;
  --border-color: #e2e8f0;

  /* 그림자 */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

  /* 폰트 */
  --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  color: var(--text-primary);
  background: var(--bg-primary);
  line-height: 1.6;
}
```

### 3-2. 글래스모피즘 스타일

```css
/* 글래스 카드 효과 */
.glass-card {
  background: var(--bg-glass);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-md);
}

/* 글래스 입력 필드 */
.glass-input {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(5px);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--font-size-base);
  color: var(--text-primary);
  width: 100%;
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--color-primary);
  background: rgba(255, 255, 255, 0.8);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.glass-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
```

### 3-3. 모달 컨테이너 스타일

```css
/* 모달 오버레이 */
.modal-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-lg);
}

.modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(2px);
  animation: fadeIn 0.3s ease;
}

/* 모달 컨텐츠 */
.modal-content {
  position: relative;
  width: 100%;
  max-width: 900px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  animation: slideUp 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

### 3-4. 헤더 스타일

```css
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg);
  border-bottom: 1px solid var(--border-color);
}

.modal-header h2 {
  font-size: var(--font-size-xl);
  font-weight: 600;
  color: var(--text-primary);
}

.header-actions {
  display: flex;
  gap: var(--spacing-sm);
}

.btn-icon {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--border-radius);
  transition: background 0.2s ease;
}

.btn-icon:hover {
  background: rgba(0, 0, 0, 0.05);
}
```

### 3-5. 목표 표시 영역 스타일

```css
.goal-display-area {
  margin: var(--spacing-lg);
  padding: var(--spacing-lg);
}

.goal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--spacing-lg);
}

.goal-header h3 {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-primary);
}

.goal-period {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  padding: var(--spacing-xs) var(--spacing-md);
  background: rgba(59, 130, 246, 0.1);
  border-radius: var(--border-radius);
}

.goal-metrics {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.metric-row {
  display: grid;
  grid-template-columns: 120px 1fr auto;
  align-items: center;
  gap: var(--spacing-md);
}

.metric-label {
  font-weight: 500;
  color: var(--text-primary);
}

.metric-values {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
}

.metric-values strong {
  color: var(--text-primary);
  font-weight: 600;
}

.separator {
  color: var(--border-color);
}

.metric-progress {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  min-width: 200px;
}

.progress-rate {
  font-size: var(--font-size-sm);
  text-align: right;
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-primary), var(--color-success));
  transition: width 0.3s ease;
}
```

### 3-6. 폼 헤더 스타일

```css
.form-header {
  padding: var(--spacing-lg);
  border-bottom: 1px solid var(--border-color);
}

.form-info {
  display: flex;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-md);
}

.info-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.info-item label {
  font-weight: 500;
  color: var(--text-secondary);
}

.info-item span {
  color: var(--text-primary);
  font-weight: 600;
}

.info-item small {
  color: var(--text-light);
  font-size: var(--font-size-sm);
}

.company-selector {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.company-selector label {
  font-weight: 500;
  color: var(--text-primary);
}

.select-wrapper {
  display: flex;
  gap: var(--spacing-sm);
}

.select-wrapper select {
  flex: 1;
}

.btn-search {
  width: 40px;
  height: 40px;
  border: none;
  background: var(--color-primary);
  color: white;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: background 0.2s ease;
}

.btn-search:hover {
  background: var(--color-primary-dark);
}

.warning-text {
  font-size: var(--font-size-sm);
  color: var(--color-warning);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}
```

### 3-7. 폼 본문 스타일

```css
.form-body {
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-lg);
}

.scrollable {
  /* 커스텀 스크롤바 */
  scrollbar-width: thin;
  scrollbar-color: var(--color-secondary) var(--bg-secondary);
}

.scrollable::-webkit-scrollbar {
  width: 8px;
}

.scrollable::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

.scrollable::-webkit-scrollbar-thumb {
  background: var(--color-secondary);
  border-radius: 4px;
}

.scrollable::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}
```

### 3-8. 섹션 스타일

```css
.form-section {
  margin-bottom: var(--spacing-lg);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  transition: all 0.3s ease;
}

.form-section:hover {
  box-shadow: var(--shadow-md);
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-md) var(--spacing-lg);
  background: var(--bg-glass);
  cursor: pointer;
  user-select: none;
}

.checkbox-container {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  cursor: pointer;
  flex: 1;
}

.checkbox-container input[type="checkbox"] {
  display: none;
}

.checkmark {
  width: 24px;
  height: 24px;
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  position: relative;
  transition: all 0.2s ease;
}

.checkbox-container input[type="checkbox"]:checked + .checkmark {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.checkbox-container input[type="checkbox"]:checked + .checkmark::after {
  content: '✓';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-weight: bold;
}

.section-title {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-primary);
}

.btn-toggle {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s ease;
}

.btn-toggle.open {
  transform: rotate(180deg);
}

.section-content {
  padding: var(--spacing-lg);
  background: white;
  border-top: 1px solid var(--border-color);
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    max-height: 0;
  }
  to {
    opacity: 1;
    max-height: 1000px;
  }
}
```

### 3-9. 폼 그룹 스타일

```css
.form-group {
  margin-bottom: var(--spacing-md);
}

.form-group label {
  display: block;
  margin-bottom: var(--spacing-sm);
  font-weight: 500;
  color: var(--text-primary);
}

.form-row {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-md);
}

.help-text {
  display: block;
  margin-top: var(--spacing-xs);
  font-size: var(--font-size-sm);
  color: var(--text-light);
}

/* 금액 입력 필드 */
.money-input {
  text-align: right;
  font-weight: 600;
  font-size: var(--font-size-lg);
}

/* 텍스트 영역 */
textarea.glass-input {
  resize: vertical;
  min-height: 100px;
  font-family: inherit;
}
```

### 3-10. 제품 항목 스타일

```css
.product-item {
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-md);
}

.product-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--border-color);
}

.product-label {
  font-weight: 600;
  color: var(--text-primary);
}

.btn-remove-product {
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--font-size-sm);
}

.btn-remove-product:hover {
  background: rgba(239, 68, 68, 0.1);
  color: var(--color-error);
}

.btn-add {
  width: 100%;
  padding: var(--spacing-md);
  border: 2px dashed var(--border-color);
  background: transparent;
  color: var(--color-primary);
  font-weight: 600;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-add:hover {
  border-color: var(--color-primary);
  background: rgba(59, 130, 246, 0.05);
}
```

### 3-11. 라디오 버튼 스타일

```css
.radio-group {
  display: flex;
  gap: var(--spacing-lg);
}

.radio-container {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  cursor: pointer;
}

.radio-container input[type="radio"] {
  display: none;
}

.radio-checkmark {
  width: 20px;
  height: 20px;
  border: 2px solid var(--border-color);
  border-radius: 50%;
  position: relative;
  transition: all 0.2s ease;
}

.radio-container input[type="radio"]:checked + .radio-checkmark {
  border-color: var(--color-primary);
}

.radio-container input[type="radio"]:checked + .radio-checkmark::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  background: var(--color-primary);
  border-radius: 50%;
}

.proxy-info {
  margin-top: var(--spacing-md);
  padding: var(--spacing-md);
  background: var(--bg-secondary);
  border-radius: var(--border-radius);
}
```

### 3-12. 활동 세부 폼 스타일

```css
.activity-details {
  padding: var(--spacing-lg);
  margin-top: var(--spacing-md);
}

.activity-details h4 {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--spacing-lg);
  padding-bottom: var(--spacing-md);
  border-bottom: 1px solid var(--border-color);
}
```

### 3-13. 푸터 스타일

```css
.modal-footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--spacing-md);
  padding: var(--spacing-lg);
  border-top: 1px solid var(--border-color);
  background: var(--bg-glass);
}

.btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  border: none;
  border-radius: var(--border-radius);
  font-size: var(--font-size-base);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-primary {
  background: var(--color-primary);
  color: white;
}

.btn-primary:hover {
  background: var(--color-primary-dark);
  box-shadow: var(--shadow-md);
}

.btn-secondary {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.btn-secondary:hover {
  background: var(--border-color);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
```

---

## 4. JavaScript 인터랙션

### 4-1. 초기화 및 상태 관리

```javascript
// 상태 관리 객체
const state = {
  currentUser: null,
  selectedCompany: null,
  goalData: null,
  formData: {
    collection: null,
    sales: [],
    activity: null
  }
};

// DOM 요소 참조
const elements = {
  modal: document.getElementById('report-create-modal'),
  companySelect: document.getElementById('company-select'),
  goalDisplay: document.getElementById('goal-display'),

  // 섹션 체크박스
  enableCollection: document.getElementById('enable-collection'),
  enableSales: document.getElementById('enable-sales'),
  enableActivity: document.getElementById('enable-activity'),

  // 섹션 컨텐츠
  collectionContent: document.getElementById('collection-content'),
  salesContent: document.getElementById('sales-content'),
  activityContent: document.getElementById('activity-content'),

  // 버튼
  btnReset: document.getElementById('btn-reset'),
  btnCancel: document.getElementById('btn-cancel'),
  btnSave: document.getElementById('btn-save'),
  btnAddProduct: document.getElementById('btn-add-product'),

  // 활동 유형
  activityType: document.getElementById('activity-type'),
  activityDetailsContainer: document.getElementById('activity-details-container')
};

// 초기화
async function init() {
  // 사용자 정보 로드
  await loadCurrentUser();

  // 거래처 목록 로드
  await loadCompanyList();

  // 전체 목표 표시
  await loadEmployeeGoals();

  // 이벤트 리스너 등록
  attachEventListeners();
}

// 페이지 로드 시 초기화
document.addEventListener('DOMContentLoaded', init);
```

### 4-2. 거래처 선택 및 목표 표시

```javascript
// 거래처 목록 로드
async function loadCompanyList() {
  try {
    const response = await apiManager.getCompanies({
      internal_manager: state.currentUser.name,
      business_status: ['활성', '비활성']
    });

    if (response && Array.isArray(response)) {
      renderCompanyOptions(response);
    }
  } catch (error) {
    console.error('거래처 목록 로드 실패:', error);
    alert('거래처 목록을 불러오는데 실패했습니다.');
  }
}

// 거래처 옵션 렌더링
function renderCompanyOptions(companies) {
  const select = elements.companySelect;
  select.innerHTML = '<option value="">거래처를 선택하세요</option>';

  companies.forEach(company => {
    const option = document.createElement('option');
    option.value = company.id;
    option.textContent = `${company.final_company_name} (${company.key_value})`;
    option.dataset.companyId = company.id;
    select.appendChild(option);
  });
}

// 거래처 선택 이벤트 핸들러
elements.companySelect.addEventListener('change', async (e) => {
  const companyId = e.target.value;

  if (companyId) {
    state.selectedCompany = companyId;
    await loadCompanyGoals(companyId);
  } else {
    state.selectedCompany = null;
    await loadEmployeeGoals();
  }
});

// 직원 전체 목표 로드
async function loadEmployeeGoals() {
  try {
    const [monthlyGoal, annualGoal] = await Promise.all([
      apiManager.get(`/api/goals/employee/${state.currentUser.id}/monthly`),
      apiManager.get(`/api/goals/employee/${state.currentUser.id}/annual`)
    ]);

    state.goalData = {
      monthly: monthlyGoal,
      annual: annualGoal
    };

    renderGoalDisplay({
      title: `내 전체 실적 (${state.currentUser.name})`,
      monthly: monthlyGoal,
      annual: annualGoal
    });
  } catch (error) {
    console.error('목표 로드 실패:', error);
  }
}

// 거래처별 목표 로드
async function loadCompanyGoals(companyId) {
  try {
    const [monthlyGoal, annualGoal] = await Promise.all([
      apiManager.get(`/api/goals/company/${companyId}/monthly`),
      apiManager.get(`/api/goals/company/${companyId}/annual`)
    ]);

    state.goalData = {
      monthly: monthlyGoal,
      annual: annualGoal
    };

    const companyName = elements.companySelect.selectedOptions[0].textContent;

    renderGoalDisplay({
      title: `${companyName} 실적`,
      monthly: monthlyGoal,
      annual: annualGoal
    });
  } catch (error) {
    console.error('거래처 목표 로드 실패:', error);
  }
}

// 목표 표시 렌더링
function renderGoalDisplay({ title, monthly, annual }) {
  document.getElementById('goal-title').textContent = title;

  // 월간 수금
  document.getElementById('monthly-collection-target').textContent = formatMoney(monthly.collectionTarget);
  document.getElementById('monthly-collection-actual').textContent = formatMoney(monthly.collectionActual);
  document.getElementById('monthly-collection-rate').textContent = monthly.collectionRate.toFixed(1);
  document.querySelector('#goal-display .metric-row:nth-child(1) .progress-fill').style.width = `${monthly.collectionRate}%`;

  // 월간 매출
  document.getElementById('monthly-sales-target').textContent = formatMoney(monthly.salesTarget);
  document.getElementById('monthly-sales-actual').textContent = formatMoney(monthly.salesActual);
  document.getElementById('monthly-sales-rate').textContent = monthly.salesRate.toFixed(1);
  document.querySelector('#goal-display .metric-row:nth-child(2) .progress-fill').style.width = `${monthly.salesRate}%`;

  // 연간 수금
  document.getElementById('annual-collection-target').textContent = formatMoney(annual.collectionTarget);
  document.getElementById('annual-collection-actual').textContent = formatMoney(annual.collectionActual);
  document.getElementById('annual-collection-rate').textContent = annual.collectionRate.toFixed(1);
  document.querySelector('#goal-display .metric-row:nth-child(3) .progress-fill').style.width = `${annual.collectionRate}%`;

  // 연간 매출
  document.getElementById('annual-sales-target').textContent = formatMoney(annual.salesTarget);
  document.getElementById('annual-sales-actual').textContent = formatMoney(annual.salesActual);
  document.getElementById('annual-sales-rate').textContent = annual.salesRate.toFixed(1);
  document.querySelector('#goal-display .metric-row:nth-child(4) .progress-fill').style.width = `${annual.salesRate}%`;
}

// 금액 포맷팅 유틸리티
function formatMoney(value) {
  return new Intl.NumberFormat('ko-KR').format(value);
}
```

### 4-3. 섹션 접기/펼치기 기능

```javascript
// 이벤트 리스너 등록
function attachEventListeners() {
  // 섹션별 체크박스와 토글 버튼
  attachSectionListeners('collection');
  attachSectionListeners('sales');
  attachSectionListeners('activity');
}

// 섹션별 리스너 등록
function attachSectionListeners(sectionName) {
  const section = document.querySelector(`[data-section="${sectionName}"]`);
  const checkbox = section.querySelector('input[type="checkbox"]');
  const toggleBtn = section.querySelector('.btn-toggle');
  const content = section.querySelector('.section-content');

  // 체크박스 변경 시
  checkbox.addEventListener('change', (e) => {
    if (e.target.checked) {
      // 섹션 활성화 및 펼치기
      content.style.display = 'block';
      toggleBtn.classList.add('open');
      enableSectionInputs(content);
    } else {
      // 섹션 비활성화
      content.style.display = 'none';
      toggleBtn.classList.remove('open');
      disableSectionInputs(content);
      clearSectionData(sectionName);
    }
  });

  // 토글 버튼 클릭 시 (체크박스가 체크된 경우만)
  toggleBtn.addEventListener('click', () => {
    if (checkbox.checked) {
      const isOpen = content.style.display !== 'none';
      content.style.display = isOpen ? 'none' : 'block';
      toggleBtn.classList.toggle('open');
    }
  });
}

// 섹션 입력 활성화
function enableSectionInputs(content) {
  const inputs = content.querySelectorAll('input, select, textarea, button');
  inputs.forEach(input => input.disabled = false);
}

// 섹션 입력 비활성화
function disableSectionInputs(content) {
  const inputs = content.querySelectorAll('input, select, textarea, button');
  inputs.forEach(input => input.disabled = true);
}

// 섹션 데이터 초기화
function clearSectionData(sectionName) {
  switch (sectionName) {
    case 'collection':
      state.formData.collection = null;
      document.getElementById('target-collection').value = '';
      break;
    case 'sales':
      state.formData.sales = [];
      document.getElementById('product-list').innerHTML = '';
      break;
    case 'activity':
      state.formData.activity = null;
      elements.activityType.value = '';
      elements.activityDetailsContainer.innerHTML = '';
      break;
  }
}
```

### 4-4. 제품 추가/삭제 기능

```javascript
// 제품 추가 버튼
elements.btnAddProduct.addEventListener('click', () => {
  addProductItem();
});

// 제품 항목 추가
function addProductItem(productData = null) {
  const template = document.getElementById('product-item-template');
  const clone = template.content.cloneNode(true);

  // 제품 번호 설정
  const productNumber = state.formData.sales.length + 1;
  clone.querySelector('.product-number').textContent = productNumber;

  // 제품 목록 로드
  loadProductOptions(clone.querySelector('.product-select'));

  // 데이터가 있으면 채우기
  if (productData) {
    clone.querySelector('.product-select').value = productData.product;
    clone.querySelector('.sales-amount').value = formatMoney(productData.amount);
    clone.querySelector('.vat-select').value = productData.vat;
  }

  // 삭제 버튼 이벤트
  const removeBtn = clone.querySelector('.btn-remove-product');
  removeBtn.addEventListener('click', function() {
    this.closest('.product-item').remove();
    updateProductNumbers();
  });

  // 금액 입력 시 천단위 콤마 자동 추가
  const amountInput = clone.querySelector('.sales-amount');
  amountInput.addEventListener('input', formatMoneyInput);

  document.getElementById('product-list').appendChild(clone);
}

// 제품 옵션 로드
async function loadProductOptions(selectElement) {
  try {
    const products = await apiManager.getProducts();

    products.forEach(product => {
      const option = document.createElement('option');
      option.value = product.id;
      option.textContent = product.name;
      selectElement.appendChild(option);
    });
  } catch (error) {
    console.error('제품 목록 로드 실패:', error);
  }
}

// 제품 번호 업데이트
function updateProductNumbers() {
  const items = document.querySelectorAll('.product-item');
  items.forEach((item, index) => {
    item.querySelector('.product-number').textContent = index + 1;
  });
}

// 금액 입력 포맷팅
function formatMoneyInput(e) {
  let value = e.target.value.replace(/,/g, '');
  if (value && !isNaN(value)) {
    e.target.value = formatMoney(parseInt(value));
  }
}
```

### 4-5. 영업활동 유형별 폼 표시

```javascript
// 활동 유형 선택 이벤트
elements.activityType.addEventListener('change', (e) => {
  const activityType = e.target.value;
  renderActivityForm(activityType);
});

// 활동 유형별 폼 렌더링
function renderActivityForm(type) {
  const container = elements.activityDetailsContainer;
  container.innerHTML = '';

  if (!type) return;

  let template;
  switch (type) {
    case 'call':
      template = document.getElementById('activity-call-template');
      break;
    case 'visit':
      template = document.getElementById('activity-visit-template');
      break;
    case 'document':
      template = document.getElementById('activity-document-template');
      break;
    case 'other':
      template = document.getElementById('activity-other-template');
      break;
    default:
      return;
  }

  const clone = template.content.cloneNode(true);

  // 실행자 라디오 버튼 이벤트
  const executorRadios = clone.querySelectorAll('input[type="radio"]');
  const proxyInfo = clone.querySelector('.proxy-info');

  executorRadios.forEach(radio => {
    radio.addEventListener('change', (e) => {
      if (e.target.value === 'proxy') {
        proxyInfo.style.display = 'block';
      } else {
        proxyInfo.style.display = 'none';
      }
    });
  });

  container.appendChild(clone);
}
```

### 4-6. 폼 데이터 수집 및 저장

```javascript
// 저장 버튼 클릭
elements.btnSave.addEventListener('click', async () => {
  if (!validateForm()) {
    return;
  }

  const formData = collectFormData();

  try {
    const response = await apiManager.createReport(formData);

    if (response && response.success !== false) {
      alert('보고서가 저장되었습니다.');
      closeModal();
      // 목록 새로고침
      window.location.reload();
    } else {
      throw new Error('저장 실패');
    }
  } catch (error) {
    console.error('보고서 저장 실패:', error);
    alert('보고서 저장에 실패했습니다.');
  }
});

// 폼 유효성 검사
function validateForm() {
  // 거래처 선택 확인
  if (!state.selectedCompany) {
    alert('거래처를 선택해주세요.');
    elements.companySelect.focus();
    return false;
  }

  // 최소 하나의 섹션 활성화 확인
  const hasCollection = elements.enableCollection.checked;
  const hasSales = elements.enableSales.checked;
  const hasActivity = elements.enableActivity.checked;

  if (!hasCollection && !hasSales && !hasActivity) {
    alert('최소 하나 이상의 항목을 작성해주세요.');
    return false;
  }

  // 목표매출액 검증
  if (hasSales) {
    const products = document.querySelectorAll('.product-item');
    if (products.length === 0) {
      alert('최소 하나 이상의 제품을 추가해주세요.');
      return false;
    }

    for (let product of products) {
      const productSelect = product.querySelector('.product-select');
      const amountInput = product.querySelector('.sales-amount');

      if (!productSelect.value) {
        alert('제품을 선택해주세요.');
        productSelect.focus();
        return false;
      }

      if (!amountInput.value || amountInput.value === '0') {
        alert('목표매출금액을 입력해주세요.');
        amountInput.focus();
        return false;
      }
    }
  }

  // 영업활동 검증
  if (hasActivity) {
    if (!elements.activityType.value) {
      alert('활동 유형을 선택해주세요.');
      elements.activityType.focus();
      return false;
    }
  }

  return true;
}

// 폼 데이터 수집
function collectFormData() {
  const data = {
    employee_id: state.currentUser.id,
    company_id: state.selectedCompany,
    report_type: 'weekly',
    submitted_date: new Date().toISOString(),
    status: 'unconfirmed'
  };

  // 목표수금금액
  if (elements.enableCollection.checked) {
    const amount = document.getElementById('target-collection').value.replace(/,/g, '');
    data.target_collection = parseInt(amount) || 0;
  }

  // 목표매출액
  if (elements.enableSales.checked) {
    const products = [];
    document.querySelectorAll('.product-item').forEach(item => {
      products.push({
        product_id: item.querySelector('.product-select').value,
        product_name: item.querySelector('.product-select').selectedOptions[0].textContent,
        amount: parseInt(item.querySelector('.sales-amount').value.replace(/,/g, '')) || 0,
        vat: item.querySelector('.vat-select').value
      });
    });
    data.target_sales = products;
  }

  // 영업활동
  if (elements.enableActivity.checked) {
    data.activity = collectActivityData();
  }

  return data;
}

// 영업활동 데이터 수집
function collectActivityData() {
  const type = elements.activityType.value;
  const activity = { type };

  switch (type) {
    case 'call':
      activity.date = document.getElementById('call-date').value;
      activity.time = document.getElementById('call-time').value;
      activity.target = document.getElementById('call-target').value;
      activity.purpose = document.getElementById('call-purpose').value;
      activity.executor = document.querySelector('input[name="call-executor"]:checked').value;
      if (activity.executor === 'proxy') {
        activity.proxyName = document.getElementById('call-proxy-name').value;
        activity.proxyPhone = document.getElementById('call-proxy-phone').value;
      }
      break;

    case 'visit':
      activity.date = document.getElementById('visit-date').value;
      activity.location = document.getElementById('visit-location').value;
      activity.target = document.getElementById('visit-target').value;
      activity.purpose = document.getElementById('visit-purpose').value;
      activity.executor = document.querySelector('input[name="visit-executor"]:checked').value;
      if (activity.executor === 'proxy') {
        activity.proxyName = document.getElementById('visit-proxy-name').value;
      }
      break;

    case 'document':
      activity.date = document.getElementById('doc-date').value;
      activity.method = document.getElementById('doc-method').value;
      activity.name = document.getElementById('doc-name').value;
      activity.content = document.getElementById('doc-content').value;
      activity.executor = document.querySelector('input[name="doc-executor"]:checked').value;
      if (activity.executor === 'proxy') {
        activity.proxyName = document.getElementById('doc-proxy-name').value;
      }
      break;

    case 'other':
      activity.content = document.getElementById('other-content').value;
      break;
  }

  return activity;
}

// 전체 재작성 버튼
elements.btnReset.addEventListener('click', () => {
  if (confirm('작성 중인 내용이 모두 삭제됩니다. 계속하시겠습니까?')) {
    resetForm();
  }
});

// 폼 초기화
function resetForm() {
  // 체크박스 해제
  elements.enableCollection.checked = false;
  elements.enableSales.checked = false;
  elements.enableActivity.checked = false;

  // 모든 섹션 초기화
  clearSectionData('collection');
  clearSectionData('sales');
  clearSectionData('activity');

  // 섹션 접기
  document.querySelectorAll('.section-content').forEach(content => {
    content.style.display = 'none';
  });

  document.querySelectorAll('.btn-toggle').forEach(btn => {
    btn.classList.remove('open');
  });
}

// 취소 버튼
elements.btnCancel.addEventListener('click', () => {
  if (confirm('작성을 취소하시겠습니까?')) {
    closeModal();
  }
});

// 모달 닫기
function closeModal() {
  elements.modal.style.display = 'none';
  resetForm();
}
```

---

## 5. 컴포넌트별 구현

### 5-1. 목표 표시 컴포넌트

**파일**: `components/GoalDisplay.js`

```javascript
class GoalDisplay {
  constructor(containerId) {
    this.container = document.getElementById(containerId);
  }

  render(data) {
    const { title, period, monthly, annual } = data;

    this.container.innerHTML = `
      <div class="goal-header">
        <h3>📊 <span>${title}</span></h3>
        <span class="goal-period">${period}</span>
      </div>
      <div class="goal-metrics">
        ${this.renderMetric('💰 월간 수금', monthly.collection)}
        ${this.renderMetric('📊 월간 매출', monthly.sales)}
        ${this.renderMetric('💰 연간 수금', annual.collection)}
        ${this.renderMetric('📊 연간 매출', annual.sales)}
      </div>
    `;
  }

  renderMetric(label, data) {
    const { target, actual, rate } = data;

    return `
      <div class="metric-row">
        <div class="metric-label">${label}:</div>
        <div class="metric-values">
          <span>목표 <strong>${this.formatMoney(target)}</strong>원</span>
          <span class="separator">|</span>
          <span>실적 <strong>${this.formatMoney(actual)}</strong>원</span>
        </div>
        <div class="metric-progress">
          <span class="progress-rate">달성률 <strong>${rate.toFixed(1)}</strong>%</span>
          <div class="progress-bar">
            <div class="progress-fill" style="width: ${rate}%"></div>
          </div>
        </div>
      </div>
    `;
  }

  formatMoney(value) {
    return new Intl.NumberFormat('ko-KR').format(value);
  }
}

export default GoalDisplay;
```

### 5-2. 제품 항목 컴포넌트

**파일**: `components/ProductItem.js`

```javascript
class ProductItem {
  constructor(data = null) {
    this.data = data;
    this.element = null;
  }

  create() {
    const template = document.getElementById('product-item-template');
    const clone = template.content.cloneNode(true);

    // 이벤트 바인딩
    this.bindEvents(clone);

    // 데이터 채우기
    if (this.data) {
      this.fillData(clone);
    }

    this.element = clone.querySelector('.product-item');
    return clone;
  }

  bindEvents(element) {
    // 삭제 버튼
    const removeBtn = element.querySelector('.btn-remove-product');
    removeBtn.addEventListener('click', () => this.remove());

    // 금액 포맷팅
    const amountInput = element.querySelector('.sales-amount');
    amountInput.addEventListener('input', (e) => {
      this.formatMoneyInput(e.target);
    });
  }

  fillData(element) {
    element.querySelector('.product-select').value = this.data.product_id;
    element.querySelector('.sales-amount').value = this.formatMoney(this.data.amount);
    element.querySelector('.vat-select').value = this.data.vat;
  }

  remove() {
    if (this.element) {
      this.element.remove();
      // 부모 컨테이너에 이벤트 발생
      document.dispatchEvent(new CustomEvent('product-removed'));
    }
  }

  getData() {
    if (!this.element) return null;

    return {
      product_id: this.element.querySelector('.product-select').value,
      product_name: this.element.querySelector('.product-select').selectedOptions[0].textContent,
      amount: parseInt(this.element.querySelector('.sales-amount').value.replace(/,/g, '')) || 0,
      vat: this.element.querySelector('.vat-select').value
    };
  }

  formatMoneyInput(input) {
    let value = input.value.replace(/,/g, '');
    if (value && !isNaN(value)) {
      input.value = this.formatMoney(parseInt(value));
    }
  }

  formatMoney(value) {
    return new Intl.NumberFormat('ko-KR').format(value);
  }
}

export default ProductItem;
```

### 5-3. 활동 폼 컴포넌트

**파일**: `components/ActivityForm.js`

```javascript
class ActivityForm {
  constructor(type, data = null) {
    this.type = type;
    this.data = data;
    this.element = null;
  }

  create() {
    const templateId = `activity-${this.type}-template`;
    const template = document.getElementById(templateId);

    if (!template) {
      console.error(`템플릿을 찾을 수 없습니다: ${templateId}`);
      return null;
    }

    const clone = template.content.cloneNode(true);

    // 이벤트 바인딩
    this.bindEvents(clone);

    // 데이터 채우기
    if (this.data) {
      this.fillData(clone);
    }

    this.element = clone.querySelector('.activity-details');
    return clone;
  }

  bindEvents(element) {
    // 실행자 라디오 버튼
    const executorRadios = element.querySelectorAll(`input[name="${this.type}-executor"]`);
    const proxyInfo = element.querySelector('.proxy-info');

    if (executorRadios.length > 0 && proxyInfo) {
      executorRadios.forEach(radio => {
        radio.addEventListener('change', (e) => {
          proxyInfo.style.display = e.target.value === 'proxy' ? 'block' : 'none';
        });
      });
    }
  }

  fillData(element) {
    // 각 활동 유형별로 데이터 채우기
    Object.keys(this.data).forEach(key => {
      const input = element.querySelector(`#${this.type}-${key}`);
      if (input) {
        input.value = this.data[key];
      }
    });

    // 실행자 라디오 버튼
    if (this.data.executor) {
      const radio = element.querySelector(`input[name="${this.type}-executor"][value="${this.data.executor}"]`);
      if (radio) {
        radio.checked = true;
        radio.dispatchEvent(new Event('change'));
      }
    }
  }

  getData() {
    if (!this.element) return null;

    const data = { type: this.type };

    // 각 활동 유형별로 데이터 수집
    const inputs = this.element.querySelectorAll('input, select, textarea');
    inputs.forEach(input => {
      if (input.type === 'radio') {
        if (input.checked) {
          data[input.name.replace(`${this.type}-`, '')] = input.value;
        }
      } else {
        const key = input.id.replace(`${this.type}-`, '');
        data[key] = input.value;
      }
    });

    return data;
  }
}

export default ActivityForm;
```

---

## 6. 반응형 디자인

### 6-1. 태블릿 (768px ~ 1024px)

```css
@media (max-width: 1024px) {
  .modal-content {
    max-width: 95%;
  }

  .metric-row {
    grid-template-columns: 100px 1fr auto;
    gap: var(--spacing-sm);
  }

  .metric-progress {
    min-width: 150px;
  }

  .form-row {
    grid-template-columns: 1fr;
  }

  .form-info {
    flex-direction: column;
    gap: var(--spacing-md);
  }
}
```

### 6-2. 모바일 (~ 767px)

```css
@media (max-width: 767px) {
  .modal-container {
    padding: 0;
  }

  .modal-content {
    max-width: 100%;
    max-height: 100vh;
    border-radius: 0;
  }

  .goal-display-area {
    margin: var(--spacing-md);
    padding: var(--spacing-md);
  }

  .metric-row {
    grid-template-columns: 1fr;
    gap: var(--spacing-sm);
  }

  .metric-values {
    flex-wrap: wrap;
  }

  .metric-progress {
    min-width: 100%;
  }

  .form-header,
  .form-body,
  .modal-footer {
    padding: var(--spacing-md);
  }

  .modal-footer {
    flex-wrap: wrap;
  }

  .btn {
    flex: 1;
    min-width: 120px;
  }

  .product-item {
    padding: var(--spacing-md);
  }

  .radio-group {
    flex-direction: column;
    gap: var(--spacing-sm);
  }
}
```

---

## 7. 접근성 고려사항

### 7-1. ARIA 속성

```html
<!-- 모달 -->
<div
  id="report-create-modal"
  class="modal-container"
  role="dialog"
  aria-labelledby="modal-title"
  aria-modal="true"
>
  <h2 id="modal-title">실적보고서 작성</h2>
</div>

<!-- 섹션 -->
<div
  class="form-section"
  role="region"
  aria-labelledby="section-title-collection"
>
  <span id="section-title-collection" class="section-title">
    목표수금금액
  </span>
</div>

<!-- 버튼 -->
<button
  class="btn-toggle"
  aria-label="목표수금금액 섹션 펼치기/접기"
  aria-expanded="false"
  aria-controls="collection-content"
>
  ▼
</button>

<div
  id="collection-content"
  class="section-content"
  role="region"
  aria-hidden="true"
>
  <!-- 내용 -->
</div>
```

### 7-2. 키보드 네비게이션

```javascript
// ESC 키로 모달 닫기
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && elements.modal.style.display !== 'none') {
    if (confirm('작성을 취소하시겠습니까?')) {
      closeModal();
    }
  }
});

// Tab 키 순환
const modal = elements.modal;
const focusableElements = modal.querySelectorAll(
  'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
);

const firstFocusable = focusableElements[0];
const lastFocusable = focusableElements[focusableElements.length - 1];

modal.addEventListener('keydown', (e) => {
  if (e.key === 'Tab') {
    if (e.shiftKey) {
      // Shift + Tab
      if (document.activeElement === firstFocusable) {
        lastFocusable.focus();
        e.preventDefault();
      }
    } else {
      // Tab
      if (document.activeElement === lastFocusable) {
        firstFocusable.focus();
        e.preventDefault();
      }
    }
  }
});
```

### 7-3. 스크린 리더 지원

```javascript
// 동적 콘텐츠 업데이트 알림
function announceToScreenReader(message) {
  const announcement = document.createElement('div');
  announcement.setAttribute('role', 'status');
  announcement.setAttribute('aria-live', 'polite');
  announcement.className = 'sr-only';
  announcement.textContent = message;

  document.body.appendChild(announcement);

  setTimeout(() => {
    announcement.remove();
  }, 1000);
}

// 사용 예시
addProductItem();
announceToScreenReader('제품 항목이 추가되었습니다.');
```

```css
/* 스크린 리더 전용 텍스트 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
```

---

## 8. 성능 최적화

### 8-1. 이미지 레이지 로딩

```html
<img src="placeholder.jpg" data-src="actual-image.jpg" class="lazy" alt="설명">
```

```javascript
// Intersection Observer를 사용한 레이지 로딩
const imageObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const img = entry.target;
      img.src = img.dataset.src;
      img.classList.remove('lazy');
      imageObserver.unobserve(img);
    }
  });
});

document.querySelectorAll('img.lazy').forEach(img => {
  imageObserver.observe(img);
});
```

### 8-2. 디바운싱

```javascript
// 검색 입력 디바운싱
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// 사용 예시
const searchInput = document.getElementById('company-search');
const debouncedSearch = debounce(searchCompany, 300);

searchInput.addEventListener('input', debouncedSearch);
```

### 8-3. 가상 스크롤

```javascript
// 큰 리스트를 효율적으로 렌더링
class VirtualScroll {
  constructor(container, items, itemHeight) {
    this.container = container;
    this.items = items;
    this.itemHeight = itemHeight;
    this.visibleItems = Math.ceil(container.clientHeight / itemHeight);

    this.init();
  }

  init() {
    this.container.style.height = `${this.items.length * this.itemHeight}px`;
    this.container.style.position = 'relative';

    this.container.addEventListener('scroll', () => {
      this.render();
    });

    this.render();
  }

  render() {
    const scrollTop = this.container.scrollTop;
    const startIndex = Math.floor(scrollTop / this.itemHeight);
    const endIndex = startIndex + this.visibleItems + 1;

    // 보이는 아이템만 렌더링
    const visibleItems = this.items.slice(startIndex, endIndex);

    this.container.innerHTML = visibleItems.map((item, index) => {
      const actualIndex = startIndex + index;
      return `
        <div style="position: absolute; top: ${actualIndex * this.itemHeight}px; height: ${this.itemHeight}px;">
          ${item}
        </div>
      `;
    }).join('');
  }
}
```

---

## 9. 브라우저 호환성

### 9-1. 지원 브라우저

- Chrome: 최신 2개 버전
- Firefox: 최신 2개 버전
- Safari: 최신 2개 버전
- Edge: 최신 2개 버전

### 9-2. Polyfill

```html
<!-- IE11 지원 시 필요한 Polyfill -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=Promise%2CArray.from%2CArray.prototype.find%2CObject.assign"></script>
```

### 9-3. CSS 벤더 프리픽스

```css
.glass-card {
  background: var(--bg-glass);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px); /* Safari */
}
```

---

## 10. 구현 체크리스트

### Phase 1: 기본 구조
- [ ] HTML 마크업 작성
- [ ] CSS 기본 스타일 적용
- [ ] 모달 열기/닫기 기능

### Phase 2: 목표 표시
- [ ] 목표 표시 영역 렌더링
- [ ] 거래처 선택 시 동적 변경
- [ ] 진행률 바 애니메이션

### Phase 3: 폼 섹션
- [ ] 섹션 접기/펼치기 기능
- [ ] 체크박스 활성화/비활성화
- [ ] 입력 필드 포맷팅

### Phase 4: 제품 관리
- [ ] 제품 추가/삭제 기능
- [ ] 제품 목록 동적 로딩
- [ ] 금액 자동 포맷팅

### Phase 5: 영업활동
- [ ] 활동 유형 선택
- [ ] 유형별 폼 동적 렌더링
- [ ] 실행자 선택 기능

### Phase 6: 데이터 처리
- [ ] 폼 유효성 검사
- [ ] 데이터 수집 및 저장
- [ ] API 연동

### Phase 7: 반응형 및 접근성
- [ ] 반응형 디자인 적용
- [ ] 키보드 네비게이션
- [ ] ARIA 속성 추가

### Phase 8: 최적화
- [ ] 성능 최적화
- [ ] 브라우저 호환성 테스트
- [ ] 사용자 테스트 및 피드백

---

## 참고 자료

- [MDN Web Docs](https://developer.mozilla.org/)
- [Web Content Accessibility Guidelines (WCAG)](https://www.w3.org/WAI/WCAG21/quickref/)
- [CSS Tricks - Glassmorphism](https://css-tricks.com/glassmorphism/)
- [Vue.js Component Design Patterns](https://vuejs.org/guide/components/)
