# 📚 KUWOTECH 영업관리 시스템 - 핵심 공통 기능 구현 가이드

## 📋 목차
1. [개요](#1-개요)
2. [프로젝트 구조](#2-프로젝트-구조)
3. [핵심 공통 기능 상세](#3-핵심-공통-기능-상세)
4. [실제 구현 방법](#4-실제-구현-방법)
5. [웹 페이지 적용 예시](#5-웹-페이지-적용-예시)
6. [테스트 및 확인](#6-테스트-및-확인)

---

## 1. 개요

### 1.1 문서 목적
본 문서는 KUWOTECH 영업관리 시스템의 핵심 공통 기능들이 어떻게 정의되고, 어디에 구현되어 있으며, 실제 웹에서 어떻게 작동하는지를 상세히 설명합니다.

### 1.2 핵심 공통 기능 요약

| 기능 | 설명 | 주요 파일 |
|------|------|-----------|
| **로고** | 하얀색 KUWOTECH 로고 이미지 | `02.Fonts_Logos/logo.png` |
| **폰트** | Paperlogy 6종 (Regular ~ Black) | `02.Fonts_Logos/Paperlogy/` |
| **디자인** | 글래스모피즘 (반투명 + blur 효과) | `07_design.js`, `03_glassmorphism.css` |
| **색상** | 모드별 테마 색상 | `11_theme_manager.js`, `07_theme_colors.css` |
| **포맷** | 숫자/날짜 한국식 포맷 | `03_format.js` |
| **용어** | 엑셀 관련 한국어 용어 사전 | `04_terms.js` |
| **UI** | 모달, 토스트, 아코디언 등 | `06_modal.js`, `14_toast.js` |
| **반응형** | 브레이크포인트 관리 | `12_breakpoint_manager.js` |

---

## 2. 프로젝트 구조

### 2.1 디렉토리 구조
```
Kuwotech_Sales_Management/
├── 02.Fonts_Logos/              # 폰트와 로고 리소스
│   ├── logo.png                 # 메인 로고 (하얀색)
│   └── Paperlogy/               # Paperlogy 폰트 파일들
│       ├── Paperlogy-4Regular.ttf
│       ├── Paperlogy-5Medium.ttf
│       ├── Paperlogy-6SemiBold.ttf
│       ├── Paperlogy-7Bold.ttf
│       ├── Paperlogy-8ExtraBold.ttf
│       └── Paperlogy-9Black.ttf
│
├── 05.Source/
│   ├── 01.common/               # 공통 JavaScript 모듈
│   │   ├── 00_global_config.js  # 전역 설정
│   │   ├── 03_format.js        # 포맷팅 함수
│   │   ├── 04_terms.js         # 용어 사전
│   │   ├── 06_modal.js         # 모달 시스템
│   │   ├── 07_design.js        # 디자인 유틸리티
│   │   ├── 11_theme_manager.js # 테마 매니저
│   │   ├── 12_breakpoint_manager.js # 반응형 관리
│   │   └── 14_toast.js         # 토스트 메시지
│   │
│   └── 07.styles/               # CSS 스타일시트
│       ├── 03_glassmorphism.css # 글래스모피즘 스타일
│       ├── 07_theme_colors.css  # 테마 색상 정의
│       └── 09_fonts.css        # 폰트 정의
```

---

## 3. 핵심 공통 기능 상세

### 3.1 테마 색상 시스템

#### 3.1.1 색상 정의 파일
- **파일 위치**: `05.Source/01.common/11_theme_manager.js`
- **CSS 파일**: `05.Source/07.styles/07_theme_colors.css`

#### 3.1.2 테마별 색상 구성

##### 🔐 로그인 테마
```javascript
// 11_theme_manager.js
login: {
    colors: {
        '--primary-color': '#1A237E',      // 짙은 네이비
        '--secondary-color': '#B0BEC5',    // 소프트 그레이
        '--bg-color': '#F5F5F5',           // 오프 화이트
        '--accent-color': '#FFC107',       // 머스타드 옐로우
        '--text-primary': '#212121',       // 진한 차콜
        '--text-on-primary': '#FFFFFF'     // 밝은 흰색
    }
}
```

##### 💼 영업담당 테마 (그린 계열 - 5단계 레이어)
```javascript
sales: {
    colors: {
        // ----- 5단계 레이어 색상 -----
        '--layer-1': '#0F2A1D',            // Deep Forest
        '--layer-2': '#375534',            // Dark Olive
        '--layer-3': '#6B9071',            // Medium Sage
        '--layer-4': '#AEC3B0',            // Light Sage
        '--layer-5': '#E3EED4',            // Pale Mint
        
        '--primary-color': '#375534',      // Layer 2 - Dark Olive
        '--secondary-color': '#AEC3B0',    // Layer 4 - Light Sage
        '--bg-color': '#FFFFFF',           // 클린 화이트
        '--accent-color': '#FF7043',       // Vivid Orange
        '--text-primary': '#37474F',       // 다크 차콜
        '--text-on-primary': '#FFFFFF'     // 밝은 흰색
    }
}
```

##### 👨‍💼 관리자 테마 (블루 계열 - 5단계 레이어)
```javascript
admin: {
    colors: {
        // ----- 5단계 레이어 색상 -----
        '--layer-1': '#021024',            // Deep Navy
        '--layer-2': '#052659',            // Dark Blue
        '--layer-3': '#5A7FA0',            // Medium Blue
        '--layer-4': '#7DA0CA',            // Light Blue
        '--layer-5': '#C1E8FF',            // Pale Blue
        
        '--primary-color': '#052659',      // Layer 2 - Dark Blue
        '--secondary-color': '#7DA0CA',    // Layer 4 - Light Blue
        '--bg-color': '#FAFAFA',           // 아이보리
        '--accent-color': '#00E676',       // Neon Mint
        '--text-primary': '#212121',       // 진한 차콜
        '--text-on-primary': '#FFFFFF'     // 밝은 흰색
    }
}
```

### 3.2 글래스모피즘 디자인

#### 3.2.1 구현 파일
- **JavaScript**: `05.Source/01.common/07_design.js`
- **CSS**: `05.Source/07.styles/03_glassmorphism.css`

#### 3.2.2 글래스모피즘 효과 종류

```javascript
// 07_design.js
export const GLASSMORPHISM = {
    // 기본 글래스 효과
    basic: {
        background: 'rgba(255, 255, 255, 0.08)',
        backdropFilter: 'blur(20px)',
        border: '1px solid rgba(255, 255, 255, 0.2)',
        borderRadius: '16px',
        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)'
    },
    
    // 가벼운 글래스 효과
    light: {
        background: 'rgba(255, 255, 255, 0.12)',
        backdropFilter: 'blur(10px)',
        border: '1px solid rgba(255, 255, 255, 0.15)',
        borderRadius: '12px'
    },
    
    // 무거운 글래스 효과
    heavy: {
        background: 'rgba(255, 255, 255, 0.15)',
        backdropFilter: 'blur(30px)',
        border: '1px solid rgba(255, 255, 255, 0.25)',
        borderRadius: '20px'
    }
}
```

### 3.3 폰트 시스템

#### 3.3.1 폰트 파일 정의
- **파일**: `05.Source/07.styles/09_fonts.css`

```css
/* 폰트 페이스 정의 */
@font-face {
    font-family: 'Paperlogy';
    src: url('../../02.Fonts_Logos/Paperlogy/Paperlogy-4Regular.ttf') format('truetype');
    font-weight: 400;
}

/* 6종의 폰트 두께 정의 (400, 500, 600, 700, 800, 900) */
```

#### 3.3.2 폰트 적용
```css
body {
    font-family: 'Paperlogy', -apple-system, 'Noto Sans KR', sans-serif;
    font-weight: 400;
    font-size: 14px;
}
```

### 3.4 포맷팅 시스템

#### 3.4.1 파일 위치
- **파일**: `05.Source/01.common/03_format.js`

#### 3.4.2 주요 포맷팅 함수

```javascript
// 숫자 포맷팅
formatNumber(1234567)        // "1,234,567"
formatCurrency(1234567)      // "₩1,234,567"
formatPercent(0.8523)        // "85.23%"

// 날짜 포맷팅
formatDate(new Date())       // "2025-01-27"
formatDateKorean(new Date()) // "2025년 1월 27일"
formatTime(new Date())       // "14:30:45"

// 문자열 포맷팅
formatPhone("01012345678")   // "010-1234-5678"
formatBusinessNumber("1234567890") // "123-45-67890"
```

### 3.5 한국어 용어 시스템

#### 3.5.1 파일 위치
- **파일**: `05.Source/01.common/04_terms.js`

#### 3.5.2 용어 사전 구조

```javascript
export const FIELD_LABELS = {
    companyNameERP: "거래처명(ERP)",
    companyNameFull: "거래처 전체명",
    businessNumber: "사업자번호",
    representativeName: "대표자명",
    phoneNumber: "전화번호",
    monthlySales: "월 매출",
    achievementRate: "달성률"
    // ... 등등
}

// 용어 변환 함수
translateToKorean("customer")  // "거래처"
getFieldLabel("businessNumber") // "사업자번호"
```

### 3.6 UI 컴포넌트

#### 3.6.1 모달 시스템
- **파일**: `05.Source/01.common/06_modal.js`

```javascript
// 모달 생성 및 표시
const modal = new Modal({
    size: 'lg',
    title: '거래처 상세정보',
    content: companyDetailHTML,
    buttons: [
        { text: '수정', onClick: handleEdit },
        { text: '닫기', onClick: handleClose }
    ]
});
modal.open();
```

#### 3.6.2 토스트 메시지
- **파일**: `05.Source/01.common/14_toast.js`

```javascript
// 토스트 메시지 표시
showToast('저장이 완료되었습니다', 'success');
showToast('오류가 발생했습니다', 'error');
showToast('경고: 데이터를 확인하세요', 'warning');
```

### 3.7 반응형 관리

#### 3.7.1 파일 위치
- **파일**: `05.Source/01.common/12_breakpoint_manager.js`

#### 3.7.2 브레이크포인트 정의

```javascript
this.breakpoints = {
    xs: 0,        // 모바일 (639px 이하)
    sm: 640,      // 대형 모바일 (640px - 767px)
    md: 768,      // 태블릿 (768px - 1023px)
    lg: 1024,     // 데스크톱 (1024px - 1279px)
    xl: 1280,     // 대형 데스크톱 (1280px - 1535px)
    '2xl': 1536   // 초대형 데스크톱 (1536px 이상)
}
```

---

## 4. 실제 구현 방법

### 4.1 테마 적용 방법

#### 4.1.1 JavaScript에서 테마 전환
```javascript
// 테마 매니저 import
import { themeManager } from './01.common/11_theme_manager.js';

// 역할에 따른 테마 설정
const userRole = sessionStorage.getItem('userRole');
themeManager.setThemeByRole(userRole);

// 또는 직접 테마 적용
themeManager.applyTheme('admin');  // 관리자 테마
themeManager.applyTheme('sales');  // 영업담당 테마
themeManager.applyTheme('login');  // 로그인 테마
```

#### 4.1.2 CSS에서 테마 변수 사용
```css
.header {
    background: var(--primary-color);
    color: var(--text-on-primary);
}

.button-primary {
    background: var(--gradient-primary);
    border-color: var(--primary-color);
}

.accent-button {
    background: var(--accent-color);
    color: var(--text-on-accent);
}
```

### 4.2 글래스모피즘 적용

#### 4.2.1 HTML에서 클래스 사용
```html
<!-- 글래스 패널 -->
<div class="glass-panel">
    <h2>콘텐츠 제목</h2>
    <p>내용...</p>
</div>

<!-- 글래스 카드 -->
<div class="glass-card">
    <div class="kpi-value">1,234,567</div>
    <div class="kpi-label">월 매출액</div>
</div>

<!-- 글래스 버튼 -->
<button class="glass-button primary">
    저장하기
</button>
```

#### 4.2.2 JavaScript로 동적 적용
```javascript
import { applyGlassmorphism } from './01.common/07_design.js';

// 요소에 글래스모피즘 적용
const element = document.getElementById('myElement');
applyGlassmorphism(element, 'heavy');  // 'basic', 'light', 'heavy' 중 선택
```

### 4.3 포맷팅 사용

```javascript
import { formatNumber, formatDateKorean } from './01.common/03_format.js';

// 숫자 포맷팅
const sales = 12345678;
document.getElementById('sales').textContent = formatCurrency(sales);
// 결과: "₩12,345,678"

// 날짜 포맷팅
const today = new Date();
document.getElementById('date').textContent = formatDateKorean(today);
// 결과: "2025년 1월 27일"
```

### 4.4 모달 사용

```javascript
import Modal from './01.common/06_modal.js';

// 상세 정보 모달
function showCompanyDetail(companyData) {
    const modal = new Modal({
        size: 'lg',
        title: companyData.companyNameFull,
        content: `
            <div class="company-detail">
                <p>대표자: ${companyData.representativeName}</p>
                <p>사업자번호: ${formatBusinessNumber(companyData.businessNumber)}</p>
                <p>전화번호: ${formatPhone(companyData.phoneNumber)}</p>
            </div>
        `,
        buttons: [
            {
                text: '수정',
                className: 'btn-secondary',
                onClick: () => editCompany(companyData)
            },
            {
                text: '닫기',
                className: 'btn-primary'
            }
        ]
    });
    
    modal.open();
}
```

---

## 5. 웹 페이지 적용 예시

### 5.1 로그인 페이지

```html
<!DOCTYPE html>
<html lang="ko" data-mode="login">
<head>
    <meta charset="UTF-8">
    <title>KUWOTECH 영업관리 시스템</title>
    
    <!-- 스타일시트 -->
    <link rel="stylesheet" href="07.styles/09_fonts.css">
    <link rel="stylesheet" href="07.styles/07_theme_colors.css">
    <link rel="stylesheet" href="07.styles/03_glassmorphism.css">
</head>
<body class="theme-login">
    <!-- 로고 -->
    <div class="logo-container">
        <img src="02.Fonts_Logos/logo.png" alt="KUWOTECH" class="logo">
    </div>
    
    <!-- 로그인 폼 (글래스모피즘) -->
    <div class="glass-panel login-form">
        <h2 class="text-gradient">시스템 로그인</h2>
        
        <div class="glass-input-group">
            <input type="text" class="glass-input" placeholder="사용자 ID">
        </div>
        
        <div class="glass-input-group">
            <input type="password" class="glass-input" placeholder="비밀번호">
        </div>
        
        <button class="glass-button primary">
            로그인
        </button>
    </div>
    
    <!-- JavaScript 모듈 -->
    <script type="module">
        import { themeManager } from './01.common/11_theme_manager.js';
        import { showToast } from './01.common/14_toast.js';
        
        // 로그인 테마 적용
        themeManager.applyTheme('login');
        
        // 로그인 처리
        document.querySelector('.glass-button').addEventListener('click', () => {
            showToast('로그인 중...', 'info');
            // 로그인 로직...
        });
    </script>
</body>
</html>
```

### 5.2 영업담당 대시보드

```html
<!-- 영업담당 메인 페이지 -->
<body class="theme-sales" data-mode="sales">
    <!-- 헤더 -->
    <header class="glass-nav">
        <img src="02.Fonts_Logos/logo.png" alt="KUWOTECH" height="40">
        <h1 class="system-title">영업관리 시스템</h1>
    </header>
    
    <!-- KPI 카드 그리드 -->
    <div class="kpi-grid">
        <div class="glass-card kpi-card">
            <div class="kpi-label">이번 달 매출</div>
            <div class="kpi-value" id="monthly-sales">0</div>
            <div class="kpi-trend up">▲ 15.3%</div>
        </div>
        
        <div class="glass-card kpi-card">
            <div class="kpi-label">활성 거래처</div>
            <div class="kpi-value" id="active-companies">0</div>
            <div class="kpi-trend">85개사</div>
        </div>
    </div>
    
    <!-- 거래처 테이블 -->
    <div class="glass-panel">
        <h2>내 거래처 목록</h2>
        <table class="glass-table">
            <thead>
                <tr>
                    <th>거래처명</th>
                    <th>대표자</th>
                    <th>연락처</th>
                    <th>월 매출</th>
                    <th>상태</th>
                </tr>
            </thead>
            <tbody id="company-list">
                <!-- 동적 생성 -->
            </tbody>
        </table>
    </div>
    
    <script type="module">
        import { formatCurrency, formatPhone } from './01.common/03_format.js';
        import { themeManager } from './01.common/11_theme_manager.js';
        
        // 영업담당 테마 적용
        themeManager.applyTheme('sales');
        
        // 데이터 로드 및 포맷팅
        async function loadDashboard() {
            const data = await fetchDashboardData();
            
            // KPI 업데이트
            document.getElementById('monthly-sales').textContent = 
                formatCurrency(data.monthlySales);
            
            document.getElementById('active-companies').textContent = 
                formatNumber(data.activeCompanies);
            
            // 테이블 업데이트
            const tbody = document.getElementById('company-list');
            data.companies.forEach(company => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${company.name}</td>
                    <td>${company.representative}</td>
                    <td>${formatPhone(company.phone)}</td>
                    <td>${formatCurrency(company.sales)}</td>
                    <td><span class="glass-badge ${company.status}">
                        ${company.status === 'active' ? '활성' : '비활성'}
                    </span></td>
                `;
            });
        }
        
        loadDashboard();
    </script>
</body>
```

### 5.3 반응형 처리

```javascript
import breakpointManager from './01.common/12_breakpoint_manager.js';

// 브레이크포인트 변경 감지
breakpointManager.addListener((data) => {
    console.log(`화면 크기 변경: ${data.from} → ${data.to}`);
    
    // 모바일에서 카드뷰로 전환
    if (data.to === 'xs' || data.to === 'sm') {
        document.querySelector('.glass-table').style.display = 'none';
        document.querySelector('.card-view').style.display = 'block';
    } else {
        document.querySelector('.glass-table').style.display = 'table';
        document.querySelector('.card-view').style.display = 'none';
    }
});

// 현재 디바이스 타입 확인
const deviceType = breakpointManager.getDeviceType();
if (deviceType === 'mobile') {
    // 모바일 최적화 UI 적용
    applyMobileOptimization();
}
```

---

## 6. 테스트 및 확인

### 6.1 브라우저 개발자 도구 활용

#### 6.1.1 테마 변수 확인
```javascript
// 콘솔에서 실행
// 현재 적용된 CSS 변수 확인
getComputedStyle(document.documentElement).getPropertyValue('--primary-color');
// 결과: "#0097A7" (영업담당 모드인 경우)

// 테마 전환 테스트
themeManager.applyTheme('admin');
// 화면이 관리자 색상으로 변경되는지 확인
```

#### 6.1.2 글래스모피즘 효과 확인
```javascript
// Elements 탭에서 확인할 내용
// 1. backdrop-filter: blur(20px) 적용 여부
// 2. background: rgba(255, 255, 255, 0.08) 투명도
// 3. border와 box-shadow 효과
```

### 6.2 반응형 테스트

```javascript
// 브레이크포인트별 테스트
// 1. 개발자 도구 > Toggle device toolbar
// 2. 각 해상도별 확인:
//    - 320px (모바일)
//    - 768px (태블릿)
//    - 1024px (데스크톱)
//    - 1920px (대형 모니터)

// 콘솔에서 현재 브레이크포인트 확인
console.log(breakpointManager.getCurrent());
console.log(breakpointManager.getCurrentLayout());
```

### 6.3 포맷팅 테스트

```javascript
// 콘솔에서 직접 테스트
import { formatCurrency, formatDateKorean } from './01.common/03_format.js';

console.log(formatCurrency(1234567));     // "₩1,234,567"
console.log(formatDateKorean(new Date())); // "2025년 1월 27일"
console.log(formatPhone("01012345678"));   // "010-1234-5678"
```

### 6.4 체크리스트

#### 테마 시스템
- [ ] 로그인 테마 색상 적용 확인
- [ ] 영업담당 테마 전환 확인
- [ ] 관리자 테마 전환 확인
- [ ] CSS 변수 동적 변경 확인

#### 글래스모피즘
- [ ] blur 효과 적용 확인
- [ ] 반투명 배경 확인
- [ ] 빛 반사 애니메이션 확인
- [ ] hover 효과 작동 확인

#### 폰트
- [ ] Paperlogy 폰트 로드 확인
- [ ] 각 폰트 두께별 적용 확인
- [ ] 폴백 폰트 작동 확인

#### 포맷팅
- [ ] 숫자 천단위 구분 확인
- [ ] 통화 기호 표시 확인
- [ ] 날짜 한국식 표기 확인
- [ ] 전화번호 하이픈 처리 확인

#### UI 컴포넌트
- [ ] 모달 열기/닫기 확인
- [ ] 토스트 메시지 표시 확인
- [ ] 아코디언 펼침/접기 확인
- [ ] 버튼 클릭 효과 확인

#### 반응형
- [ ] 모바일 레이아웃 확인
- [ ] 태블릿 레이아웃 확인
- [ ] 데스크톱 레이아웃 확인
- [ ] 사이드바 토글 확인

---

## 7. 문제 해결 가이드

### 7.1 폰트가 적용되지 않을 때
```javascript
// 1. 폰트 파일 경로 확인
// 09_fonts.css에서 경로가 올바른지 확인
@font-face {
    src: url('../../02.Fonts_Logos/Paperlogy/Paperlogy-4Regular.ttf');
    // 상대 경로가 맞는지 확인
}

// 2. 네트워크 탭에서 폰트 파일 로드 확인
// 개발자 도구 > Network > Font 필터
```

### 7.2 테마 색상이 변경되지 않을 때
```javascript
// 1. body 클래스 확인
console.log(document.body.className);
// theme-sales, theme-admin, theme-login 중 하나여야 함

// 2. CSS 변수 확인
console.log(getComputedStyle(document.documentElement).getPropertyValue('--primary-color'));

// 3. 테마 매니저 초기화 확인
console.log(window.themeManager);
```

### 7.3 글래스모피즘 효과가 보이지 않을 때
```css
/* 1. 브라우저 지원 확인 */
/* Safari의 경우 -webkit-backdrop-filter 필요 */
.glass {
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px); /* Safari */
}

/* 2. 배경이 있는지 확인 */
/* 글래스 효과는 뒤에 콘텐츠가 있어야 보임 */
body {
    background-image: url('background.jpg');
    /* 또는 */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

---

## 8. 성능 최적화 팁

### 8.1 폰트 최적화
```css
/* font-display: swap으로 FOUT 방지 */
@font-face {
    font-family: 'Paperlogy';
    src: url('...') format('truetype');
    font-display: swap; /* 폰트 로드 전 대체 폰트 표시 */
}
```

### 8.2 글래스모피즘 성능
```css
/* GPU 가속 활용 */
.glass {
    will-change: transform;
    transform: translateZ(0); /* GPU 레이어 생성 */
}

/* 모바일에서 blur 줄이기 */
@media (max-width: 768px) {
    .glass {
        backdrop-filter: blur(8px); /* 20px → 8px */
    }
}
```

### 8.3 테마 전환 최적화
```javascript
// 트랜지션 일시 비활성화
themeManager.setTransition(false);
themeManager.applyTheme('admin');
setTimeout(() => themeManager.setTransition(true), 100);
```

---

## 9. 추가 리소스

### 9.1 관련 문서
- `04_테마색_차별화_가이드.md` - 테마 색상 상세 가이드
- `06_UI_UX_종합_가이드.md` - UI/UX 전체 가이드
- `08_공통_컴포넌트_가이드.md` - 컴포넌트 사용법

### 9.2 예제 파일
- `02.login/01_login.html` - 로그인 페이지 전체 구현
- `03.sales_mode/04_sales_main.html` - 영업담당 메인 페이지
- `04.admin_mode/03_admin_main.html` - 관리자 메인 페이지

---

## 10. 버전 이력

| 버전 | 날짜 | 작성자 | 변경사항 |
|-----|------|--------|----------|
| 1.0 | 2025-01-27 | System | 초기 문서 작성 |

---

**문서 끝**

이 가이드는 KUWOTECH 영업관리 시스템의 핵심 공통 기능 구현을 위한 종합 참조 문서입니다.
개발 과정에서 이 문서를 참조하여 일관된 UI/UX를 유지하시기 바랍니다.